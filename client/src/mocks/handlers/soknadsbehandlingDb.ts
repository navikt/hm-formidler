import { rest } from 'msw'
import { BehovsmeldingType, SoknadInfo } from '../../interfaces/SoknadInfo'
import { API_PATH } from '../../services/rest-service'
import { sakerMock } from '../mockdata/saker'

const soknadsbehandlingDbHandlers = [
  rest.get<{}, {}, SoknadInfo[]>(`${API_PATH}/soknad/innsender`, (req, res, ctx) => {
    const rolle = req.url.searchParams.get('formidler')

    let saker = sakerMock
    if (rolle === 'false') {
      saker = saker.filter((sak) => {
        return sak.behovsmeldingType === BehovsmeldingType.BESTILLING
      })
    }

    return res(ctx.json(saker))
  }),
  rest.get<{}, {}, {}>(`${API_PATH}/soknad/innsender/abc887bc-5a95-49c2-a123-f0e0f7c32df3`, (req, res, ctx) => {
    return res(
      ctx.json({
        soknadId: 'b3b15dd3-38d8-4968-a5fa-09263deaad9f',
        datoOpprettet: '2021-04-28T18:59:13.992+00:00',
        datoOppdatert: '2021-04-28T18:59:13.992+00:00',
        status: 'BESTILLING_AVVIST',
        fullmakt: 'false',
        fnrBruker: '12345678910',
        navnBruker: 'Vegard Beider',
        er_digital: true,
        behovsmeldingType: 'BESTILLING',
        valgteÅrsaker: ['Duplikat av en annen bestilling'],
        søknadsdata: {
          bruker: {
            etternavn: 'Beider',
            fnummer: '12345678910',
            fornavn: 'Vegard',
            telefonNummer: '12345678',
            adresse: 'Trandemveien 29',
            postnummer: '4235',
            poststed: 'Hebnes',
            boform: 'Hjemme',
            bruksarena: 'DAGLIGLIVET',
            funksjonsnedsettelser: ['BEVEGELSE'],
            signatur: 'BRUKER_BEKREFTER',
            brukernummer: '1234567',
          },
          formidler: {
            navn: 'Hans Hansen',
            arbeidssted: 'Suldal kommune avd. fysioterapi',
            stilling: 'Fysioterapeut',
            adresse: 'Suldal kommune  Eidsvegen 7 4230 Strand',
            telefon: '47907715',
            treffestEnklest: 'Onsdager 08-12',
            epost: 'Hans.Hansen@suldal.kommune.no',
            kommunenavn: 'SULDAL',
          },
          hjelpemidler: [
            {
              antall: 1,
              beskrivelse: 'Topro Terskeleliminator',
              hjelpemiddelkategori: 'Terskeleliminatorer og ramper',
              hmsNr: '014117',
              tilleggsinformasjon: null,
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: null,
              kanIkkeTilsvarande: false,
              navn: 'Topro Terskeleliminator',
            },
          ],
          hjelpemiddelTotalAntall: 1,
          oppfolgingsansvarlig: null,
          levering: {
            kontaktPerson: { navn: null, telefon: null, kontaktpersonType: 'HJELPEMIDDELBRUKER' },
            leveringsmaate: 'FOLKEREGISTRERT_ADRESSE',
            adresse: null,
            merknad: 'Ta også kontakt med meg dvs. formidler ved utlevering',
          },
        },
      })
    )
  }),
  rest.get<{}, {}, {}>(`${API_PATH}/soknad/innsender/fec887bc-5a95-49c2-a123-f0e0f7c32df3`, (req, res, ctx) => {
    return res(
      ctx.json({
        soknadId: 'b3b15dd3-38d8-4968-a5fa-09263deaad9f',
        datoOpprettet: '2021-04-28T18:59:13.992+00:00',
        datoOppdatert: '2021-04-28T18:59:13.992+00:00',
        status: 'BESTILLING_AVVIST',
        fullmakt: 'false',
        fnrBruker: '12345678910',
        navnBruker: 'Trude Luth',
        er_digital: true,
        behovsmeldingType: 'BESTILLING',
        valgteÅrsaker: ['Annet'],
        søknadsdata: {
          bruker: {
            etternavn: 'Luth',
            fnummer: '12345678910',
            fornavn: 'Trude',
            telefonNummer: '12345678',
            adresse: 'Trandemveien 29',
            postnummer: '4235',
            poststed: 'Hebnes',
            boform: 'Hjemme',
            bruksarena: 'DAGLIGLIVET',
            funksjonsnedsettelser: ['BEVEGELSE'],
            signatur: 'BRUKER_BEKREFTER',
          },
          formidler: {
            navn: 'Hans Hansen',
            arbeidssted: 'Suldal kommune avd. fysioterapi',
            stilling: 'Fysioterapeut',
            adresse: 'Suldal kommune  Eidsvegen 7 4230 Strand',
            telefon: '47907715',
            treffestEnklest: 'Onsdager 08-12',
            epost: 'Hans.Hansen@suldal.kommune.no',
            kommunenavn: 'SULDAL',
          },
          hjelpemidler: [
            {
              antall: 2,
              arsakForAntall: 'BEHOV_I_FLERE_ETASJER',
              beskrivelse: 'Topro Terskeleliminator',
              hjelpemiddelkategori: 'Terskeleliminatorer og ramper',
              hmsNr: '014117',
              tilleggsinformasjon: null,
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: null,
              kanIkkeTilsvarande: false,
              navn: 'Topro Terskeleliminator',
            },
          ],
          hjelpemiddelTotalAntall: 1,
          oppfolgingsansvarlig: null,
          levering: {
            kontaktPerson: { navn: null, telefon: null, kontaktpersonType: 'HJELPEMIDDELBRUKER' },
            leveringsmaate: 'FOLKEREGISTRERT_ADRESSE',
            adresse: null,
            merknad: 'Ta også kontakt med meg dvs. formidler ved utlevering',
          },
        },
      })
    )
  }),
  rest.get<{}, {}, {}>(`${API_PATH}/soknad/innsender/fec887bc-5a95-49c2-a098-f0e0f7cd73hf`, (req, res, ctx) => {
    return res(
      ctx.json({
        soknadId: 'b3b15dd3-38d8-4968-a5fa-09263deaad9f',
        datoOpprettet: '2021-04-28T18:59:13.992+00:00',
        datoOppdatert: '2021-04-28T18:59:13.992+00:00',
        status: 'GODKJENT',
        fullmakt: 'false',
        fnrBruker: '12345678910',
        navnBruker: 'Nasse Nøff',
        er_digital: true,
        behovsmeldingType: 'BESTILLING',
        valgteÅrsaker: [],
        søknadsdata: {
          bruker: {
            etternavn: 'Nøff',
            fnummer: '12345678910',
            fornavn: 'Nasse',
            telefonNummer: '12345678',
            adresse: 'Trandemveien 29',
            postnummer: '4235',
            poststed: 'Hebnes',
            boform: 'Hjemme',
            bruksarena: 'DAGLIGLIVET',
            funksjonsnedsettelser: ['BEVEGELSE'],
            signatur: 'BRUKER_BEKREFTER',
          },
          formidler: {
            navn: 'Hans Hansen',
            arbeidssted: 'Suldal kommune avd. fysioterapi',
            stilling: 'Fysioterapeut',
            adresse: 'Suldal kommune  Eidsvegen 7 4230 Strand',
            telefon: '47907715',
            treffestEnklest: 'Onsdager 08-12',
            epost: 'Hans.Hansen@suldal.kommune.no',
            kommunenavn: 'SULDAL',
          },
          hjelpemidler: [
            {
              antall: 1,
              beskrivelse: 'Topro Terskeleliminator',
              hjelpemiddelkategori: 'Terskeleliminatorer og ramper',
              hmsNr: '014117',
              tilleggsinformasjon: null,
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: null,
              kanIkkeTilsvarande: false,
              navn: 'Topro Terskeleliminator',
            },
          ],
          hjelpemiddelTotalAntall: 1,
          oppfolgingsansvarlig: null,
          levering: {
            kontaktPerson: { navn: null, telefon: null, kontaktpersonType: 'HJELPEMIDDELBRUKER' },
            leveringsmaate: 'FOLKEREGISTRERT_ADRESSE',
            adresse: null,
            merknad: 'Ta også kontakt med meg dvs. formidler ved utlevering',
          },
        },
      })
    )
  }),
  rest.get<{}, {}, {}>(`${API_PATH}/soknad/innsender/fc8ee79a-b234-4201-8735-129c9cff8d0b`, (req, res, ctx) => {
    return res(
      ctx.json({
        søknadId: 'fc8ee79a-b234-4201-8735-129c9cff8d0b',
        behovsmeldingType: 'SØKNAD',
        datoOpprettet: '2023-02-22T11:10:03.481+00:00',
        datoOppdatert: '2023-02-22T11:10:06.639+00:00',
        status: 'GODKJENT_MED_FULLMAKT',
        fullmakt: true,
        fnrBruker: '26848497710',
        navnBruker: 'Berømt Aktivitet',
        søknadsdata: {
          bruker: {
            etternavn: 'Aktivitet',
            fnummer: '26848497710',
            fornavn: 'Berømt',
            telefonNummer: '12121212',
            adresse: 'Kirkeveien 7',
            postnummer: '9590',
            poststed: 'Hasvik',
            boform: 'Hjemme',
            bruksarena: 'DAGLIGLIVET',
            funksjonsnedsettelser: ['BEVEGELSE'],
            signatur: 'FULLMAKT',
            kroppsmaal: { setebredde: 1, laarlengde: 2, legglengde: 3, hoyde: 4, kroppsvekt: 5 },
            brukernummer: null,
          },
          formidler: {
            navn: 'Berømt Aktivitet',
            arbeidssted: 'NAV Hasvik',
            stilling: 'Ergoterapeut',
            adresse: 'HASVIK 9590 HASVIK',
            telefon: '12345678',
            treffesEnklest: 'Mandager',
            epost: 'beromt.aktivitet@mail.no',
            kommunenavn: null,
          },
          hjelpemidler: [
            {
              antall: 1,
              beskrivelse: 'Topro terskeleliminator',
              hjelpemiddelkategori: 'Terskeleliminatorer og ramper',
              hmsNr: '014123',
              tilleggsinformasjon: '',
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: '',
              kanIkkeTilsvarande: false,
              navn: 'Topro terskeleliminator',
              rullestolInfo: null,
              elektriskRullestolInfo: null,
              personlofterInfo: null,
              utlevertInfo: { utlevertType: null, overførtFraBruker: null, annenKommentar: null },
            },
            {
              antall: 1,
              beskrivelse: 'Comet Alpine Plus',
              hjelpemiddelkategori: 'Elektriske rullestoler',
              hmsNr: '238378',
              tilleggsinformasjon: '',
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: '',
              kanIkkeTilsvarande: false,
              navn: 'Comet Alpine Plus',
              rullestolInfo: null,
              elektriskRullestolInfo: {
                godkjenningskurs: null,
                kanBetjeneManuellStyring: true,
                kanBetjeneMotorisertStyring: false,
                ferdesSikkertITrafikk: true,
                nedsattGangfunksjon: true,
                oppbevaringOgLagring: true,
                oppbevaringInfo: null,
                kjentMedForsikring: true,
                harSpesialsykkel: true,
                plasseringAvHendel: 'Høyre',
                kabin: null,
              },
              personlofterInfo: null,
              utlevertInfo: { utlevertType: null, overførtFraBruker: null, annenKommentar: null },
            },
            {
              antall: 1,
              beskrivelse: 'Minicrosser X1 4W CAB',
              hjelpemiddelkategori: 'Elektriske rullestoler',
              hmsNr: '250470',
              tilleggsinformasjon: '',
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: '',
              kanIkkeTilsvarande: false,
              navn: 'Minicrosser X1 4W CAB',
              rullestolInfo: null,
              elektriskRullestolInfo: {
                godkjenningskurs: null,
                kanBetjeneManuellStyring: true,
                kanBetjeneMotorisertStyring: false,
                ferdesSikkertITrafikk: true,
                nedsattGangfunksjon: true,
                oppbevaringOgLagring: true,
                oppbevaringInfo: null,
                kjentMedForsikring: true,
                harSpesialsykkel: true,
                plasseringAvHendel: 'Høyre',
                kabin: {
                  brukerOppfyllerKrav: true,
                  kanIkkeAvhjelpesMedEnklereArsak: 'BEGRENSNING_VED_FUNKSJONSNEDSETTELSE',
                  kanIkkeAvhjelpesMedEnklereBegrunnelse: null,
                  arsakForBehovBegrunnelse: null,
                },
              },
              personlofterInfo: null,
              utlevertInfo: { utlevertType: null, overførtFraBruker: null, annenKommentar: null },
            },
          ],
          hjelpemiddelTotalAntall: 3,
          oppfolgingsansvarlig: null,
          levering: {
            kontaktPerson: { navn: null, telefon: null, kontaktpersonType: 'HJELPEMIDDELBRUKER' },
            leveringsmaate: 'FOLKEREGISTRERT_ADRESSE',
            adresse: null,
            merknad: '',
          },
        },
        valgteÅrsaker: [],
      })
    )
  }),
  rest.get<{}, {}, {}>(`${API_PATH}/soknad/innsender/:id`, (req, res, ctx) => {
    return res(
      ctx.json({
        soknadId: 'b3b15dd3-38d8-4968-a5fa-09263deaad9f',
        datoOpprettet: '2021-04-28T18:59:13.992+00:00',
        datoOppdatert: '2021-04-28T18:59:13.992+00:00',
        status: 'VENTER_GODKJENNING',
        fullmakt: 'false',
        fnrBruker: '12345678910',
        navnBruker: 'Arne Arnesen',
        er_digital: true,
        søknadsdata: {
          bruker: {
            etternavn: 'Arnesen',
            fnummer: '12345678910',
            fornavn: 'Arne',
            telefonNummer: '12345678',
            adresse: 'Trandemveien 29',
            postnummer: '4235',
            poststed: 'Hebnes',
            boform: 'Hjemme',
            bruksarena: 'DAGLIGLIVET',
            funksjonsnedsettelser: ['BEVEGELSE'],
            signatur: 'BRUKER_BEKREFTER',
            brukernummer: '1234567',
          },
          formidler: {
            navn: 'Hans Hansen',
            arbeidssted: 'Suldal kommune avd. fysioterapi',
            stilling: 'Fysioterapeut',
            adresse: 'Suldal kommune  Eidsvegen 7 4230 Strand',
            telefon: '47907715',
            treffestEnklest: 'Onsdager 08-12',
            epost: 'Hans.Hansen@suldal.kommune.no',
            kommunenavn: 'SULDAL',
          },
          hjelpemidler: [
            {
              antall: 2,
              beskrivelse: 'Topro Terskeleliminator',
              hjelpemiddelkategori: 'Terskeleliminatorer og ramper',
              hmsNr: '014117',
              tilleggsinformasjon: null,
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: null,
              kanIkkeTilsvarande: false,
              navn: 'Topro Terskeleliminator',
            },
            {
              antall: 1,
              beskrivelse: 'ROHO Quadtro Select lavprofil sb 56',
              hjelpemiddelkategori: 'Sitteputer',
              hmsNr: '171264',
              tilleggsinformasjon: null,
              rangering: '1',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [{ vilkaarTekst: 'Forebygge trykksår', tilleggsInfo: null }],
              tilbehorListe: [],
              begrunnelse: null,
              kanIkkeTilsvarande: false,
              navn: 'ROHO Quadtro Select lavprofil sb 56',
            },
            {
              antall: 1,
              beskrivelse: 'Maxi 550',
              hjelpemiddelkategori: 'Ganghjelpemidler',
              hmsNr: '096445',
              tilleggsinformasjon: null,
              rangering: '3',
              utlevertFraHjelpemiddelsentralen: false,
              vilkarliste: [],
              tilbehorListe: [],
              begrunnelse: 'Bruker veier nærmere 100 kg',
              kanIkkeTilsvarande: false,
              navn: 'Maxi 550',
            },
          ],
          hjelpemiddelTotalAntall: 4,
          oppfolgingsansvarlig: null,
          levering: {
            kontaktPerson: { navn: null, telefon: null, kontaktpersonType: 'HJELPEMIDDELBRUKER' },
            leveringsmaate: 'FOLKEREGISTRERT_ADRESSE',
            adresse: null,
            merknad: 'Ta også kontakt med meg dvs. formidler ved utlevering',
          },
        },
      })
    )
  }),
]

export default soknadsbehandlingDbHandlers
